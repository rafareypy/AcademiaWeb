<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="../baseadmin.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    
    <ui:define name="title">
        Cantina..!!!
    </ui:define>
    
    <ui:define name="content">
        <h2> FreeShop.:</h2>
        <h:form>            
            
            
            <f:validateBean>        
                <h:messages/>
            <table bgcolor="#DEB887" >
                
                    <tr>
                        <td>Producto.:</td>
                        <td><h:selectOneMenu  style="width: 200px" value="#{ventaFace.itemVenta.producto}">
                                <f:selectItems var="itemSel" itemLabel="#{itemSel.toString()}" itemValue="#{itemSel}" value="#{ventaFace.listProductosCOMESTIBLE}"/>
                                <f:converter converterId="productoConverter"/>
                            </h:selectOneMenu>
                        </td>

                    </tr>                                
                    <tr>
                        <td>Cantidad.:</td>
                        <td><h:inputText value="#{ventaFace.itemVenta.qnt}"/></td>
                    </tr>                                
                
                
                
                <tr>
                    <td><center><h:commandButton action="#{ventaFace.doAdicionarItem()}" value="Agregar !!!!" /></center></td>                   
                </tr>
                                    
            </table> 
                
                <table bgcolor="#FFE4C4" >
                <c:forEach var="item" items="#{ventaFace.listItemVentaTemporario}">
                    <tr>
                        <td bgcolor="#A9A9A9" >
                            <h:outputText value="#{item.id}" >  </h:outputText>
                        </td>
                        <td bgcolor="#A9A9A9" >
                            |               Producto : 
                            <h:outputText value="#{item.producto.name}" >  </h:outputText>
                        </td>
                        <td bgcolor="#A9A9A9" >
                            |               Valor   : 
                            <h:outputText value="#{item.valorVenta}"  >  </h:outputText>
                        </td>
                        <td>                                
                                <h:commandLink immediate="true" 
                                    action="#{ventaFace.doRemoveItem()}" 
                                    value="     Excluir " >                                     
                                    <f:param name="id" value="#{item.id}" />
                                </h:commandLink>
                        </td>   
                    </tr>                        
                    
                </c:forEach>

                </table>
                <hr/>
                <table bgcolor="#DEB887">
                    <tr>
                        <td>Total :</td>
                        <td>#{ventaFace.selectedBean.total}</td>
                    </tr>       
                </table>
                <hr/>
                
                
                <table>
                     <td><center><h:commandButton immediate="true"  action="#{ventaFace.doConcluirVentaEnProcesso()}" value="Concluir Venta" /></center></td>                    
                     <td><center><h:commandButton immediate="true"  action="#{ventaFace.doCancelarVentaEnProcesso()}" value="Cancelar" /></center></td>                    
                </table>
                
            </f:validateBean>
        </h:form>        
    </ui:define>

</ui:composition>
